{% extends "base.html.twig" %}

{% set title = liste.name %}
{% set subTitle = liste.user.displayName %}
{% block title %}{{ title }} - {{ subTitle }}{% endblock %}

{% block body %}
    <ul class="media-list content-group">
        {% for listeCoaster in liste.listeCoasters %}
            {% set coaster = listeCoaster.coaster %}
            {% set image = images[coaster.id] %}
            <li class="media panel panel-body stack-media-on-mobile">
                <div class="media-left">
                    <a href="{{ path('bdd_show_coaster', {'slug': coaster.slug}) }}">
                        {% if image|length > 0 %}
                            <img src="{{ asset(random(image)) | imagine_filter('thumb_coaster') }}"
                                 class="img-rounded"
                                 style="width:96px;"
                                 alt="{{ coaster.name }}">
                        {% endif %}
                    </a>
                </div>

                <div class="media-body">
                    <h2 class="media-heading">
                        {{ listeCoaster.position }} -
                        <a style="color:#333;"
                           href="{{ path('bdd_show_coaster', {'slug': coaster.slug}) }}">{{ coaster.name }}
                        </a>
                    </h2>
                    <ul class="list-inline list-inline-separate text-muted mb-10">
                        <li>{{ coaster.builtCoaster.manufacturer.name }}</li>
                        <li>{{ coaster.builtCoaster.types|join(', ') }}</li>
                        <li>{{ coaster.park.name }}, {{ coaster.park.country.name|trans([], 'database') }}</li>
                    </ul>
                </div>
            </li>
        {% endfor %}
    </ul>
    <a href="{{ path('liste_edit', {'id': liste.id}) }}">
        <button type="button" class="btn bg-teal-400 btn-labeled pull-right">
            <b><i class="icon-reading"></i></b> {{ 'liste.update'|trans }}
        </button>
    </a>
{% endblock %}